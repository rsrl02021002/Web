<!DOCTYPE html>

<html lang="en">



<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Document</title>
    <script src="./js/jquery-3.4.1.js"></script>

</head>



<body>

    姓名:<input type="text" id="inp">
    <div id="info"></div>

    <script>
        $("#inp").on("keyup",function(){
            //选择器，绑定事件，鼠标事件，自定义功能
            var thisVal = $(this).val();
            //新建一个数据，赋值当前输入框的值
            var infoText = "可用";
            //新建一个数据，赋值为“可用”
            $.get("https://api.myjson.com/bins/l8pz0",function(res){
            //调用$.get()方法，括号里为json文件，自定义的函数，这个函数是回调函数
                var names = res.name;
                //新建一个数据，赋值为res的name
                for(var i=0;i<names.length;i++){
                    if(names[i] == thisVal){
                        infoText = "不可用";
                    }
                }
                //循环遍历name数组，条件语句匹配是否有相同的文本内容，如果有将infoText值改为“不可用”
                $("#info").text(infoText);
                //将infoText值插入到id为info的div中
            })
        })
        // var oInp = document.getElementById("inp");
        // oInp.onclick = function () {
        //     //   //第一步创建 XMLHttpRequest 对象
        //     var xmlhttp;
        //     if(window.XMLHttpRequest){
        //         xmlhttp = new XMLHttpRequest
        //     }
        //     else{
        //         xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        //     }
        //      //第二部向服务器发送请求
        //     xmlhttp.open("GET","https://api.myjson.com/bins/l8pz0",true);
        //     xmlhttp.send();
        //      //第三步响应返回结果
        //      xmlhttp.onreadystatechange = function (){
        //         if(xmlhttp.readyState == 4 && xmlhttp.Status == 200){
        //             var res = JSON.parse(xmlhttp.responseText).name;
                    
        //         }
        //     }

        // }
    </script>


</body>



</html>